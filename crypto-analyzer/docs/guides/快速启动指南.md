# 快速启动指南

## 🚀 5分钟快速开始

### 📍 重要说明

**您的系统配置**：
- MySQL数据库：在Windows本地
- 项目代码：需要在Windows本地运行
- ⚠️ **不能在Linux服务器运行**（无法连接Windows本地MySQL）

---

## ✅ 方法1：使用启动脚本（推荐）

### 步骤1：下载项目到Windows

使用WinSCP或其他工具，将整个项目下载到Windows，例如：
```
C:\crypto-analyzer\
```

### 步骤2：双击启动

在项目目录中找到并双击：
```
start.bat
```

脚本会自动：
- ✅ 检查MySQL服务
- ✅ 启动数据采集器
- ✅ 启动Web服务
- ✅ 打开浏览器

### 步骤3：等待数据采集

**首次启动需要等待5-10分钟**，让系统采集数据。

---

## ✅ 方法2：手动启动

### 步骤1：检查MySQL

```cmd
sc query MySQL80
```

如果未运行：
```cmd
net start MySQL80
```

### 步骤2：打开两个命令提示符窗口

**窗口1 - 数据采集器**：
```cmd
cd C:\crypto-analyzer
python start_scheduler.py
```

**窗口2 - Web服务**：
```cmd
cd C:\crypto-analyzer
python -m uvicorn app.main:app --host 0.0.0.0 --port 8000 --reload
```

### 步骤3：访问仪表板

浏览器打开：
```
http://localhost:8000
```

---

## 📊 验证服务运行

### 检查1：进程运行中

```cmd
tasklist | findstr python
```

应该看到至少2个Python进程。

### 检查2：端口监听

```cmd
netstat -ano | findstr :8000
```

应该显示端口8000在监听。

### 检查3：API响应

浏览器打开：
```
http://localhost:8000/docs
```

应该看到API文档页面。

### 检查4：数据库有数据

```cmd
mysql -u root -p binance-data
```

```sql
SELECT COUNT(*) FROM klines_1m;
```

应该显示有数据（如果采集器运行了几分钟）。

---

## ❓ 常见问题

### Q1: 页面显示"数据加载中"但一直不出来？

**原因**：数据采集器刚启动，还没有数据。

**解决**：
1. 等待5-10分钟
2. 检查数据采集器窗口是否有错误
3. 刷新浏览器

### Q2: 启动失败，提示"Access denied"？

**原因**：MySQL密码不正确。

**解决**：
1. 检查 `config.yaml` 中的密码
2. 确保密码是Windows本地MySQL的密码

### Q3: 端口被占用？

**错误**：`Address already in use`

**解决**：
```cmd
# 查找占用进程
netstat -ano | findstr :8000

# 终止进程
taskkill /PID <进程ID> /F

# 或使用stop.bat停止所有服务
stop.bat
```

### Q4: Python命令找不到？

**原因**：Python未安装或未添加到PATH。

**解决**：
1. 下载安装Python: https://www.python.org/downloads/
2. 安装时勾选"Add Python to PATH"
3. 重启命令提示符

### Q5: 依赖包缺失？

**错误**：`ModuleNotFoundError: No module named 'xxx'`

**解决**：
```cmd
pip install -r requirements.txt
```

---

## 🛑 停止服务

### 方法1：使用停止脚本

双击运行：
```
stop.bat
```

### 方法2：手动停止

在运行服务的窗口中按 `Ctrl + C`

---

## 📁 重要文件

### 启动相关
- `start.bat` - 一键启动脚本
- `stop.bat` - 一键停止脚本
- `start_scheduler.py` - 数据采集器
- `config.yaml` - 配置文件

### 文档
- `数据加载问题诊断.md` - 详细问题诊断
- `WINDOWS_本地部署完整指南.md` - 完整部署文档
- `价格和投资建议更新检查.md` - 价格更新机制
- `技术指标检查报告.md` - 技术指标状态

### 检查工具
- `test_technical_indicators_status.py` - 技术指标检查
- `fix_price_delay.py` - 修复价格延迟

---

## 🎯 数据采集时间表

| 时间 | 数据状态 |
|------|---------|
| 启动 | 无数据 |
| +1分钟 | 有1分钟K线，价格开始显示 |
| +5分钟 | 有5分钟K线，部分技术指标可用 |
| +10分钟 | 数据较完整，技术指标正常 |
| +1小时 | 有1小时K线，所有指标完整 |

---

## 📞 获取帮助

如果遇到问题，请检查：

1. **服务状态**
   ```cmd
   tasklist | findstr python
   netstat -ano | findstr :8000
   ```

2. **日志文件**
   ```cmd
   type logs\app.log
   ```

3. **数据库连接**
   ```cmd
   mysql -u root -p binance-data
   ```

4. **采集器窗口**
   - 查看是否有错误信息
   - 是否在持续采集数据

---

**最后更新**：2025-10-23
**状态**：✅ 就绪
**下一步**：在Windows本地运行 `start.bat`
