# Hyperliquid 聪明钱活动指标说明

## 📊 概述

Hyperliquid 聪明钱监控系统追踪高收益交易者（聪明钱）的链上交易行为，通过分析这些专业交易者的操作，为投资决策提供参考。

---

## 🎯 核心指标解读

### 1. **监控钱包数** (Monitored Wallets)

**定义：** 系统当前监控的聪明钱钱包总数

**数据来源：**
- 从 Hyperliquid 排行榜自动发现高 PnL (盈亏) 交易者
- 通过扫描功能添加的手动监控钱包

**筛选标准：**
- PnL (累计盈亏) > $10,000
- ROI (投资回报率) > 20%
- 账户价值 > $5,000

**意义：**
- 数量越多，数据样本越大，统计越可靠
- 建议监控 1000+ 个钱包以获得全面的市场洞察

**示例：** `3968 个监控钱包`
- 表示系统正在追踪 3968 个符合条件的聪明钱地址

---

### 2. **24h 交易量** (24h Volume)

**定义：** 所有监控钱包在最近 24 小时内的总交易金额（USD）

**计算方式：**
```
24h交易量 = Σ (每笔交易的名义金额)
名义金额 = 交易数量 × 成交价格
```

**数据特点：**
- 包含 LONG (做多) 和 SHORT (做空) 双向交易
- 只统计已成交的交易，不包括挂单
- 实时更新（每 30 分钟采集一次）

**意义：**
- **交易量增加** → 市场活跃度上升，聪明钱正在积极布局
- **交易量减少** → 市场观望情绪浓厚，可能在等待方向明确
- 通常在重大事件前后交易量会显著波动

**示例：** `$12.5M (1250万美元)`
- 最近24小时，所有聪明钱总共交易了 1250 万美元

**参考标准：**
- < $5M：市场较为平静
- $5M - $20M：正常交易活跃度
- $20M - $50M：市场活跃，有重要行情
- > $50M：极度活跃，重大行情或事件

---

### 3. **最近交易数** (Recent Trades)

**定义：** 显示在面板中的大额交易记录数量

**数据来源：**
- 从所有监控钱包的最近 24 小时交易中
- 按交易金额从大到小排序
- 取前 500 笔进行分析，显示前 20 笔

**意义：**
- 快速了解当前有多少笔大额交易
- 通常显示 10-20 笔最大的交易

---

## 🏆 Top 活跃币种 (Top Active Coins)

### 指标说明

显示最近 24 小时聪明钱交易最活跃的前 5 个币种

### 核心数据

#### **净流入/流出** (Net Flow)

**计算公式：**
```
净流入 = LONG交易总额 - SHORT交易总额

如果净流入 > 0：显示绿色 ▲（看涨）
如果净流入 < 0：显示红色 ▼（看跌）
```

**示例解读：**

1. **BTC ▲ $2.5M** (绿色)
   - 聪明钱在做多 BTC
   - 做多金额比做空金额多 250 万美元
   - **信号：看涨**

2. **ETH ▼ $1.8M** (红色)
   - 聪明钱在做空 ETH
   - 做空金额比做多金额多 180 万美元
   - **信号：看跌**

3. **SOL ▲ $850K** (绿色)
   - 聪明钱偏向做多 SOL
   - 净流入 85 万美元
   - **信号：温和看涨**

### 使用建议

**强烈信号：** 净流入 > $2M 或 < -$2M
- 表示聪明钱方向明确，可参考操作

**温和信号：** 净流入在 $500K - $2M 之间
- 有一定参考价值，需结合其他指标

**弱信号：** 净流入 < $500K
- 市场分歧较大，观望为主

---

## 💰 最近大额交易 (Recent Large Trades)

### 交易卡片信息详解

每笔交易显示以下信息：

#### 1. **币种 + 方向**
- **币种：** BTC、ETH、SOL 等
- **方向标签：**
  - 🟢 **LONG (做多)**：买入建仓，看涨
  - 🔴 **SHORT (做空)**：卖出建仓，看跌

#### 2. **交易金额** (Notional USD)
- 该笔交易的名义价值（美元）
- 金额越大，重要性越高

**示例：**
- `$156.8K`：15.68 万美元
- `$2.5M`：250 万美元

#### 3. **钱包标签** (Wallet Label)
- 交易者的标签或地址缩写
- 可以追踪特定高手的操作

#### 4. **交易时间** (Trade Time)
- 该笔交易的成交时间
- 格式：`2025-10-24 13:45`

#### 5. **PnL (已实现盈亏)** (Closed PnL)

**定义：** 该笔交易平仓时的实际盈亏

**颜色标识：**
- 🟢 **绿色正数**：盈利
  - 例如：`PnL: $2.02K` → 盈利 2020 美元
- 🔴 **红色负数**：亏损
  - 例如：`PnL: $297.60 (亏损)` → 亏损 297.60 美元
- ⚪ **不显示**：仓位未平仓或 PnL = 0

**重要性：**
- 连续盈利的交易者，其方向值得重点关注
- 大额盈利交易可能是趋势的确认信号
- 大额亏损可能表示市场反转

---

## 📈 如何使用这些指标

### 场景 1：判断市场情绪

**看涨信号组合：**
- ✅ 24h 交易量显著增加（> $20M）
- ✅ Top 币种大多显示绿色 ▲（净流入为正）
- ✅ 最近大额交易以 LONG 为主
- ✅ 高盈利的 LONG 交易占比高

**看跌信号组合：**
- ⚠️ Top 币种大多显示红色 ▼（净流出为负）
- ⚠️ 最近大额交易以 SHORT 为主
- ⚠️ LONG 交易出现大额亏损

### 场景 2：追踪特定币种

**示例：想要交易 BTC**

1. 查看 **Top 活跃币种** 中 BTC 的净流入
   - 如果 BTC ▲ $3M → 聪明钱在做多

2. 查看 **最近大额交易** 中 BTC 的交易方向
   - 统计 LONG 和 SHORT 的数量和金额

3. 查看 BTC 交易的 PnL
   - 如果近期 LONG 交易盈利多 → 做多方向正确
   - 如果近期 SHORT 交易盈利多 → 做空方向正确

4. 结合其他维度（技术指标、新闻情绪）做最终决策

### 场景 3：发现新机会

**步骤：**
1. 查看 **Top 活跃币种**，找出净流入最大的币种
2. 检查该币种的交易方向是否一致
3. 如果 90% 以上都是 LONG（或 SHORT），表示聪明钱方向明确
4. 这可能是一个潜在的跟单机会

---

## ⚠️ 重要提示

### 1. 数据延迟
- 数据每 **30 分钟** 更新一次
- 极短线交易不适合使用此指标

### 2. 不是绝对信号
- 聪明钱也会犯错
- 需要结合技术分析、基本面、资金费率等多维度判断
- 建议配合本系统的 **5 维度综合分析**

### 3. 风险管理
- 即使跟随聪明钱，也要设置止损
- 不要把聪明钱的操作当作 100% 正确的信号
- 单笔交易风险不要超过总资金的 2-5%

### 4. 样本问题
- 如果监控钱包 < 500，数据可能不够全面
- 建议定期扫描添加新的聪明钱钱包

---

## 🔧 技术说明

### 数据采集频率
- **Hyperliquid 交易数据**：每 30 分钟
- **钱包排行榜扫描**：每周一次（可手动触发）
- **仪表盘刷新**：每 30 秒自动刷新

### 数据库字段映射

| 显示名称 | 数据库字段 | 说明 |
|---------|-----------|------|
| 监控钱包 | `hyperliquid_monitored_wallets` | 钱包总数 |
| 交易金额 | `notional_usd` | 名义金额（USD） |
| 交易方向 | `side` | LONG / SHORT |
| 已实现盈亏 | `closed_pnl` | 平仓时的实际盈亏 |
| 交易时间 | `trade_time` | 成交时间戳 |

### 查询逻辑
```sql
-- 获取最近24小时大额交易
SELECT * FROM hyperliquid_wallet_trades
WHERE trade_time >= NOW() - INTERVAL 24 HOUR
  AND is_monitoring = 1
ORDER BY notional_usd DESC
LIMIT 500
```

---

## 📚 相关命令

### 扫描新的聪明钱钱包
```bash
python hyperliquid_monitor.py scan --add 50
```

### 查看所有监控钱包
```bash
python hyperliquid_monitor.py list
```

### 查看特定钱包的交易历史
```bash
python hyperliquid_monitor.py history <wallet_address>
```

### 启动数据采集调度器
```bash
python app/scheduler.py
```

---

## 🎓 进阶使用

### 自定义监控阈值

编辑 `config.yaml` 配置文件：

```yaml
hyperliquid:
  # 聪明钱筛选条件
  scan_criteria:
    min_pnl: 10000        # 最低累计盈亏 (USD)
    min_roi: 0.2          # 最低ROI (20%)
    min_account_value: 5000  # 最低账户价值 (USD)

  # 数据采集配置
  collection:
    enabled: true
    interval_minutes: 30  # 采集间隔（分钟）
```

### 导出数据分析

系统将数据存储在 MySQL 数据库中，可以使用 SQL 进行深度分析：

```sql
-- 统计每个钱包的胜率
SELECT
    address,
    label,
    COUNT(*) as total_trades,
    SUM(CASE WHEN closed_pnl > 0 THEN 1 ELSE 0 END) as winning_trades,
    SUM(CASE WHEN closed_pnl > 0 THEN 1 ELSE 0 END) / COUNT(*) * 100 as win_rate,
    SUM(closed_pnl) as total_pnl
FROM hyperliquid_wallet_trades
WHERE trade_time >= NOW() - INTERVAL 30 DAY
GROUP BY address, label
HAVING total_trades >= 10
ORDER BY win_rate DESC
LIMIT 20;
```

---

## 📞 常见问题

**Q: 为什么有些交易没有 PnL 数据？**
A: PnL 只在仓位平仓时记录。如果是开仓交易或仓位尚未平仓，PnL 为 0。

**Q: LONG 和 SHORT 是什么意思？**
A:
- LONG = 做多 = 买入建仓 = 看涨
- SHORT = 做空 = 卖出建仓 = 看跌

**Q: 净流入为负数是坏事吗？**
A: 不一定。如果市场正在下跌，聪明钱做空（净流入为负）反而是正确的操作。关键是要结合市场趋势理解。

**Q: 可以只跟随盈利率最高的钱包吗？**
A: 理论上可以，但要注意：
1. 过去的盈利不代表未来
2. 单个钱包样本太小，可能有运气成分
3. 建议参考整体趋势，而不是单个钱包

---

## 📊 指标总结表

| 指标 | 含义 | 看涨信号 | 看跌信号 | 更新频率 |
|-----|------|---------|---------|----------|
| 监控钱包数 | 跟踪的聪明钱数量 | > 1000 | < 500 | 每周 |
| 24h交易量 | 交易活跃度 | > $20M | < $5M | 30分钟 |
| Top活跃币种 | 热门币种方向 | 绿色▲多 | 红色▼多 | 30分钟 |
| 净流入 | 做多/空倾向 | > $2M | < -$2M | 30分钟 |
| LONG交易数 | 做多交易量 | 占比 > 70% | 占比 < 30% | 30分钟 |
| 盈利交易率 | 操作准确度 | > 60% | < 40% | 实时 |

---

**最后更新：** 2025-10-24
**版本：** v1.0
**作者：** Crypto Analyzer Team

如有疑问，请查看项目文档或提交 Issue。
