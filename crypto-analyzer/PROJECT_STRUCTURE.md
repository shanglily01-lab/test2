# Crypto Analyzer - é¡¹ç›®ç»“æ„æ–‡æ¡£

åŠ å¯†è´§å¸æ•°æ®åˆ†æå’Œäº¤æ˜“ç³»ç»Ÿ

## ğŸ“ é¡¹ç›®ç›®å½•ç»“æ„

```
crypto-analyzer/
â”œâ”€â”€ app/                          # åº”ç”¨æ ¸å¿ƒä»£ç 
â”‚   â”œâ”€â”€ analyzers/                # æ•°æ®åˆ†ææ¨¡å—
â”‚   â”œâ”€â”€ api/                      # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ enhanced_dashboard.py           # æ ‡å‡†Dashboard API
â”‚   â”‚   â”œâ”€â”€ enhanced_dashboard_cached.py    # ç¼“å­˜ä¼˜åŒ–ç‰ˆDashboard API
â”‚   â”‚   â”œâ”€â”€ paper_trading_api.py           # æ¨¡æ‹Ÿäº¤æ˜“API
â”‚   â”‚   â””â”€â”€ strategy_api.py                # ç­–ç•¥API
â”‚   â”œâ”€â”€ collectors/               # æ•°æ®é‡‡é›†å™¨
â”‚   â”‚   â”œâ”€â”€ price_collector.py             # Binanceä»·æ ¼æ•°æ®é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ gate_collector.py              # Gate.ioæ•°æ®é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ binance_futures_collector.py   # Binanceåˆçº¦æ•°æ®é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ hyperliquid_collector.py       # Hyperliquidæ•°æ®é‡‡é›†
â”‚   â”‚   â”œâ”€â”€ news_collector.py              # æ–°é—»æ•°æ®é‡‡é›†
â”‚   â”‚   â””â”€â”€ smart_money_collector.py       # èªæ˜é’±æ•°æ®é‡‡é›†
â”‚   â”œâ”€â”€ database/                 # æ•°æ®åº“æ¨¡å‹å’ŒæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ models.py              # SQLAlchemyæ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ db_service.py          # æ•°æ®åº“æœåŠ¡ç±»
â”‚   â”œâ”€â”€ services/                 # ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ cache_update_service.py        # ç¼“å­˜æ›´æ–°æœåŠ¡
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ strategies/               # äº¤æ˜“ç­–ç•¥
â”‚   â”œâ”€â”€ trading/                  # äº¤æ˜“æ¨¡å—
â”‚   â””â”€â”€ web/                      # Webæ¨¡å—
â”‚       â””â”€â”€ templates/
â”œâ”€â”€ config/                       # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ strategies/               # ç­–ç•¥é…ç½®
â”‚   â””â”€â”€ ...
â”œâ”€â”€ data/                         # æ•°æ®æ–‡ä»¶å­˜å‚¨
â”œâ”€â”€ docs/                         # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ features/                 # åŠŸèƒ½æ–‡æ¡£
â”‚   â”œâ”€â”€ guides/                   # ä½¿ç”¨æŒ‡å—
â”‚   â”œâ”€â”€ quick/                    # å¿«é€Ÿå¼€å§‹
â”‚   â””â”€â”€ updates/                  # æ›´æ–°æ—¥å¿—
â”œâ”€â”€ logs/                         # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ scripts/                      # è„šæœ¬å·¥å…·
â”‚   â”œâ”€â”€ collectors/               # é‡‡é›†å™¨è„šæœ¬
â”‚   â”œâ”€â”€ etf/                      # ETFç›¸å…³è„šæœ¬
â”‚   â”œâ”€â”€ hyperliquid/              # Hyperliquidè„šæœ¬
â”‚   â”œâ”€â”€ init/                     # åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ migrations/               # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â””â”€â”€ 001_create_cache_tables.sql    # ç¼“å­˜è¡¨åˆ›å»ºSQL
â”‚   â”œâ”€â”€ utils/                    # å·¥å…·è„šæœ¬
â”‚   â””â”€â”€ ç®¡ç†/                      # ç®¡ç†è„šæœ¬
â”‚       â””â”€â”€ update_cache_manual.py         # æ‰‹åŠ¨æ›´æ–°ç¼“å­˜
â”œâ”€â”€ static/                       # é™æ€èµ„æº
â”‚   â”œâ”€â”€ css/                      # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ js/                       # JavaScriptæ–‡ä»¶
â”‚       â”œâ”€â”€ dashboard.js          # Dashboardå‰ç«¯é€»è¾‘
â”‚       â””â”€â”€ ...
â”œâ”€â”€ templates/                    # HTMLæ¨¡æ¿
â”‚   â””â”€â”€ dashboard.html            # Dashboardé¡µé¢
â”œâ”€â”€ tools/                        # å·¥å…·é›†
â”œâ”€â”€ .gitignore                    # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ config.yaml                   # ä¸»é…ç½®æ–‡ä»¶
â”œâ”€â”€ requirements.txt              # Pythonä¾èµ–
â”œâ”€â”€ run.py                        # åº”ç”¨å¯åŠ¨å…¥å£
â”œâ”€â”€ paper_trading_api.py          # æ¨¡æ‹Ÿäº¤æ˜“APIå…¥å£
â”œâ”€â”€ README.md                     # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ PROJECT_STRUCTURE.md          # æœ¬æ–‡æ¡£
â”œâ”€â”€ GIT_COMMIT_GUIDE.md           # Gitæäº¤æŒ‡å—
â”œâ”€â”€ STATUS_AND_NEXT_STEPS.md      # å½“å‰çŠ¶æ€å’Œä¸‹ä¸€æ­¥
â”œâ”€â”€ QUICK_START_OPTIMIZATION.md   # æ€§èƒ½ä¼˜åŒ–å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ OPTIMIZATION_COMPLETE.md      # æ€§èƒ½ä¼˜åŒ–è¯´æ˜
â”œâ”€â”€ NEXT_STEPS.md                 # ä¸‹ä¸€æ­¥è®¡åˆ’
â””â”€â”€ æ€§èƒ½ä¼˜åŒ–å®Œæˆè¯´æ˜.md            # æ€§èƒ½ä¼˜åŒ–å®Œæ•´è¯´æ˜ï¼ˆä¸­æ–‡ï¼‰
```

## ğŸ”§ æ ¸å¿ƒç»„ä»¶è¯´æ˜

### 1. æ•°æ®é‡‡é›†å±‚ (app/collectors/)

è´Ÿè´£ä»å„ä¸ªäº¤æ˜“æ‰€å’Œæ•°æ®æºé‡‡é›†æ•°æ®ï¼š

- **price_collector.py**: Binanceç°è´§å¸‚åœºæ•°æ®ï¼ˆä»·æ ¼ã€Kçº¿ã€è®¢å•ç°¿ï¼‰
- **gate_collector.py**: Gate.ioäº¤æ˜“æ‰€æ•°æ®
- **binance_futures_collector.py**: Binanceåˆçº¦å¸‚åœºæ•°æ®ï¼ˆèµ„é‡‘è´¹ç‡ã€æŒä»“é‡ã€å¤šç©ºæ¯”ï¼‰
- **hyperliquid_collector.py**: Hyperliquid DEXæ•°æ®
- **news_collector.py**: åŠ å¯†è´§å¸æ–°é—»å’Œæƒ…ç»ªåˆ†æ
- **smart_money_collector.py**: å¤§æˆ·èµ„é‡‘æµå‘è¿½è¸ª

**å…³é”®åŠŸèƒ½**ï¼š
- å®æ—¶ä»·æ ¼æ•°æ®é‡‡é›†
- Kçº¿æ•°æ®é‡‡é›†ï¼ˆ1m, 5m, 1h, 1dï¼‰
- æˆäº¤é‡æ•°æ®ï¼ˆvolume, quote_volumeï¼‰
- åˆçº¦æ•°æ®ï¼ˆèµ„é‡‘è´¹ç‡ã€æŒä»“é‡ï¼‰

### 2. æ•°æ®å­˜å‚¨å±‚ (app/database/)

ä½¿ç”¨MySQLå­˜å‚¨æ‰€æœ‰æ•°æ®ï¼š

**ä¸»è¦æ•°æ®è¡¨**ï¼š
- `price_data`: å®æ—¶ä»·æ ¼æ•°æ®
- `kline_data`: Kçº¿å†å²æ•°æ®
- `news_data`: æ–°é—»å’Œæƒ…ç»ªæ•°æ®
- `binance_futures_*`: åˆçº¦ç›¸å…³æ•°æ®è¡¨
- `hyperliquid_*`: Hyperliquidæ•°æ®è¡¨

**ç¼“å­˜è¡¨**ï¼ˆæ€§èƒ½ä¼˜åŒ–ï¼‰ï¼š
- `price_stats_24h`: 24å°æ—¶ä»·æ ¼ç»Ÿè®¡ç¼“å­˜
- `technical_indicators_cache`: æŠ€æœ¯æŒ‡æ ‡ç¼“å­˜
- `investment_recommendations_cache`: æŠ•èµ„å»ºè®®ç¼“å­˜
- `news_sentiment_aggregation`: æ–°é—»æƒ…ç»ªèšåˆ
- `funding_rate_stats`: èµ„é‡‘è´¹ç‡ç»Ÿè®¡
- `hyperliquid_symbol_aggregation`: Hyperliquidèšåˆæ•°æ®

### 3. ä¸šåŠ¡æœåŠ¡å±‚ (app/services/)

**cache_update_service.py** - ç¼“å­˜æ›´æ–°æœåŠ¡ï¼š
- å®šæœŸæ›´æ–°æ‰€æœ‰ç¼“å­˜è¡¨
- é¢„è®¡ç®—ç»Ÿè®¡æ•°æ®
- æ™ºèƒ½è¯„åˆ†ç®—æ³•
- æ€§èƒ½ä¼˜åŒ–ï¼ˆAPIå“åº” <500msï¼‰

### 4. APIæ¥å£å±‚ (app/api/)

**enhanced_dashboard_cached.py** - ç¼“å­˜ç‰ˆDashboard APIï¼ˆæ¨èï¼‰ï¼š
- ä»ç¼“å­˜è¡¨è¯»å–æ•°æ®
- å“åº”æ—¶é—´ <500ms
- æ”¯æŒé«˜å¹¶å‘

**enhanced_dashboard.py** - æ ‡å‡†Dashboard APIï¼š
- å®æ—¶æŸ¥è¯¢æ•°æ®åº“
- å“åº”æ—¶é—´ 5-15ç§’
- é€‚åˆè°ƒè¯•

### 5. å‰ç«¯å±•ç¤ºå±‚ (static/, templates/)

**dashboard.html** - ä¸»ä»ªè¡¨æ¿é¡µé¢ï¼š
- å®æ—¶ä»·æ ¼å±•ç¤º
- æŠ€æœ¯æŒ‡æ ‡å›¾è¡¨
- æ™ºèƒ½æŠ•èµ„å»ºè®®
- æ–°é—»æƒ…ç»ªåˆ†æ
- åˆçº¦æ•°æ®ç›‘æ§

**dashboard.js** - å‰ç«¯é€»è¾‘ï¼š
- æ•°æ®åˆ·æ–°ï¼ˆæ¯30ç§’ï¼‰
- å›¾è¡¨æ¸²æŸ“ï¼ˆEChartsï¼‰
- äº¤äº’åŠŸèƒ½

## ğŸš€ ä¸»è¦åŠŸèƒ½

### 1. å®æ—¶ä»·æ ¼ç›‘æ§
- å¤šäº¤æ˜“æ‰€ä»·æ ¼å¯¹æ¯”
- 24å°æ—¶ä»·æ ¼å˜åŒ–
- æˆäº¤é‡ç»Ÿè®¡
- ä¹°å–å‹åŠ›åˆ†æ

### 2. æŠ€æœ¯åˆ†æ
- RSIã€MACDã€å¸ƒæ—å¸¦ç­‰æŠ€æœ¯æŒ‡æ ‡
- Kçº¿å›¾è¡¨åˆ†æ
- è¶‹åŠ¿è¯†åˆ«

### 3. æ™ºèƒ½æŠ•èµ„å»ºè®®
- åŸºäºå¤šç»´åº¦è¯„åˆ†ï¼ˆæŠ€æœ¯é¢ã€èµ„é‡‘é¢ã€å¸‚åœºæƒ…ç»ªï¼‰
- ä¹°å…¥/å–å‡º/è§‚æœ›å»ºè®®
- é£é™©è¯„ä¼°

### 4. åˆçº¦å¸‚åœºåˆ†æ
- èµ„é‡‘è´¹ç‡ç›‘æ§
- æŒä»“é‡å˜åŒ–
- å¤šç©ºæ¯”åˆ†æ
- æ¸…ç®—æ•°æ®

### 5. æ–°é—»æƒ…ç»ªåˆ†æ
- å®æ—¶æ–°é—»é‡‡é›†
- AIæƒ…ç»ªåˆ†æ
- å¸‚åœºçƒ­åº¦ç›‘æ§

### 6. æ¨¡æ‹Ÿäº¤æ˜“
- çº¸ä¸Šäº¤æ˜“åŠŸèƒ½
- ç­–ç•¥å›æµ‹
- æ€§èƒ½ç»Ÿè®¡

## âš™ï¸ é…ç½®æ–‡ä»¶

### config.yaml
ä¸»é…ç½®æ–‡ä»¶ï¼ŒåŒ…å«ï¼š
- æ•°æ®åº“è¿æ¥é…ç½®
- äº¤æ˜“æ‰€APIå¯†é’¥
- ç›‘æ§å¸ç§åˆ—è¡¨
- é‡‡é›†é¢‘ç‡è®¾ç½®
- æ—¥å¿—é…ç½®

## ğŸ”„ å®šæ—¶ä»»åŠ¡ (Scheduler)

**app/scheduler.py** è´Ÿè´£å®šæ—¶æ‰§è¡Œï¼š

- **æ¯1åˆ†é’Ÿ**ï¼šé‡‡é›†å®æ—¶ä»·æ ¼ã€1åˆ†é’ŸKçº¿ã€åˆçº¦æ•°æ®
- **æ¯5åˆ†é’Ÿ**ï¼šé‡‡é›†5åˆ†é’ŸKçº¿ã€æ›´æ–°ç¼“å­˜
- **æ¯1å°æ—¶**ï¼šé‡‡é›†1å°æ—¶Kçº¿ã€æ–°é—»æ•°æ®
- **æ¯24å°æ—¶**ï¼šé‡‡é›†æ—¥çº¿æ•°æ®ã€æ•°æ®æ¸…ç†

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

é€šè¿‡ç¼“å­˜è¡¨æœºåˆ¶å®ç°ï¼š

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æå‡ |
|------|--------|--------|------|
| APIå“åº”æ—¶é—´ | 5-15ç§’ | <500ms | **30å€** âš¡ |
| æ•°æ®åº“æŸ¥è¯¢ | ~200æ¬¡ | ~5æ¬¡ | **40å€** |
| CPUå ç”¨ | 30-50% | <5% | **10å€** |
| å¹¶å‘èƒ½åŠ› | 2è¯·æ±‚/ç§’ | 50+è¯·æ±‚/ç§’ | **25å€** |

è¯¦è§ï¼š[QUICK_START_OPTIMIZATION.md](QUICK_START_OPTIMIZATION.md)

## ğŸ”§ å¼€å‘å·¥å…·

### è°ƒè¯•è„šæœ¬ï¼ˆscripts/ç®¡ç†/ï¼‰
- `update_cache_manual.py`: æ‰‹åŠ¨æ›´æ–°ç¼“å­˜

### æ•°æ®åº“è¿ç§»ï¼ˆscripts/migrations/ï¼‰
- `001_create_cache_tables.sql`: åˆ›å»ºæ‰€æœ‰ç¼“å­˜è¡¨

## ğŸ“ æ–‡æ¡£ç´¢å¼•

- **README.md**: é¡¹ç›®æ€»è§ˆ
- **QUICK_START_OPTIMIZATION.md**: 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²æ€§èƒ½ä¼˜åŒ–
- **OPTIMIZATION_COMPLETE.md**: æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯è¯¦è§£
- **GIT_COMMIT_GUIDE.md**: Gitæäº¤è§„èŒƒå’ŒæŒ‡å—
- **STATUS_AND_NEXT_STEPS.md**: å½“å‰é—®é¢˜çŠ¶æ€å’Œè§£å†³æ­¥éª¤
- **NEXT_STEPS.md**: é¡¹ç›®åç»­å¼€å‘è®¡åˆ’

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **åç«¯**: Python 3.9+, FastAPI, SQLAlchemy
- **æ•°æ®åº“**: MySQL 8.0+
- **å‰ç«¯**: HTML5, JavaScript, Bootstrap, ECharts
- **æ•°æ®é‡‡é›†**: ccxt, requests, pandas
- **ä»»åŠ¡è°ƒåº¦**: APScheduler
- **æ—¥å¿—**: loguru

## ğŸš¦ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

### 2. é…ç½®æ•°æ®åº“
ç¼–è¾‘ `config.yaml`ï¼Œé…ç½®MySQLè¿æ¥ä¿¡æ¯

### 3. åˆ›å»ºæ•°æ®åº“è¡¨
```bash
python scripts/init/init_database.py
```

### 4. æ‰§è¡Œç¼“å­˜è¡¨è¿ç§»
```sql
-- åœ¨MySQLä¸­æ‰§è¡Œ
source scripts/migrations/001_create_cache_tables.sql
```

### 5. å¯åŠ¨æœåŠ¡
```bash
# ç»ˆç«¯1: å¯åŠ¨APIæœåŠ¡
python run.py

# ç»ˆç«¯2: å¯åŠ¨è°ƒåº¦å™¨
python app/scheduler.py
```

### 6. è®¿é—®Dashboard
æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š`http://localhost:8000/dashboard.html`

## ğŸ“® è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤ Issue æˆ–æŸ¥çœ‹æ–‡æ¡£ã€‚

## ğŸ“„ è®¸å¯è¯

MIT License
