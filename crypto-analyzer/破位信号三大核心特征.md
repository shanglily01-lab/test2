# ç ´ä½ä¿¡å·ä¸‰å¤§æ ¸å¿ƒç‰¹å¾

## æ¦‚è¿°

åŸºäºBig4 (BTC/ETH/BNB/SOL) å®ç›˜æ•°æ®åˆ†æï¼ŒçœŸæ­£çš„ç ´ä½ä¿¡å·å¿…é¡»åŒæ—¶æ»¡è¶³ä»¥ä¸‹ä¸‰å¤§ç‰¹å¾ï¼š

---

## âœ… ç‰¹å¾1: çªç ´24Hæå€¼

### å®šä¹‰

**çŸ­æœŸ1-3æ ¹5M Kçº¿ï¼Œä»·æ ¼çªç ´24å°æ—¶çš„æœ€é«˜ä»·æˆ–æœ€ä½ä»·**

### æŠ€æœ¯æŒ‡æ ‡

```python
def check_24h_breakout(symbol, timeframe='5m'):
    """
    æ£€æŸ¥æ˜¯å¦çªç ´24Hæå€¼

    Args:
        symbol: äº¤æ˜“å¯¹
        timeframe: æ—¶é—´å‘¨æœŸ (5m)

    Returns:
        bool, str: (æ˜¯å¦ç ´ä½, ç ´ä½æ–¹å‘)
    """
    # è·å–24å°æ—¶Kçº¿æ•°æ®
    klines_24h = exchange.get_klines(symbol, '5m', limit=288)  # 24h = 288æ ¹5M

    # è®¡ç®—24Hçš„æœ€é«˜æœ€ä½ä»·
    high_24h = max([k['high'] for k in klines_24h[:-3]])  # æ’é™¤æœ€è¿‘3æ ¹
    low_24h = min([k['low'] for k in klines_24h[:-3]])

    # è·å–æœ€è¿‘1-3æ ¹Kçº¿
    recent_candles = klines_24h[-3:]

    # æ£€æŸ¥å‘ä¸Šç ´ä½
    for candle in recent_candles:
        if candle['high'] > high_24h * 1.001:  # çªç ´24Hæœ€é«˜ä»·
            return True, 'BREAKOUT', high_24h, candle['high']

    # æ£€æŸ¥å‘ä¸‹ç ´ä½
    for candle in recent_candles:
        if candle['low'] < low_24h * 0.999:  # è·Œç ´24Hæœ€ä½ä»·
            return True, 'BREAKDOWN', low_24h, candle['low']

    return False, None, None, None
```

### å®ä¾‹åˆ†æ

**2026-02-06 BTCæš´è·Œ**

```
24Hä»·æ ¼èŒƒå›´ (2026-02-05 08:00 - 2026-02-06 08:00):
æœ€é«˜: 72,000
æœ€ä½: 62,500

ç ´ä½æ—¶åˆ» (2026-02-06 08:00 - 08:15):
08:00 æœ€ä½: 62,362  < 62,500 âœ“ è·Œç ´24Hæœ€ä½
08:15 æœ€ä½: 60,000  < 62,500 âœ“ ç»§ç»­ç ´ä½
08:30 æœ€ä½: 61,266  < 62,500 âœ“ æŒç»­ä¸‹è·Œ

ç»“è®º: è¿ç»­3æ ¹5M Kçº¿è·Œç ´24Hæœ€ä½ä»·ï¼Œç¡®è®¤å¼ºåŠ¿ç ´ä½
```

### ä¸ºä»€ä¹ˆæ˜¯24å°æ—¶ï¼Ÿ

1. **è¶³å¤Ÿçš„å†å²æ•°æ®**: 288æ ¹5M Kçº¿ï¼Œè¦†ç›–å®Œæ•´çš„äº¤æ˜“å‘¨æœŸ
2. **åŠ¨æ€æ”¯æ’‘é˜»åŠ›**: 24Hå†…çš„æœ€é«˜æœ€ä½ä»·æ˜¯å¸‚åœºå…¬è®¤çš„å…³é”®ä½ç½®
3. **è¿‡æ»¤å™ªéŸ³**: å¤ªçŸ­çš„æ—¶é—´çª—å£å®¹æ˜“å—çŸ­æœŸæ³¢åŠ¨å¹²æ‰°

### ä»£ç å®ç°

```python
class H24BreakoutDetector:
    """24å°æ—¶ç ´ä½æ£€æµ‹å™¨"""

    def __init__(self, symbol):
        self.symbol = symbol
        self.window_size = 288  # 24h = 288æ ¹5M Kçº¿

    def get_24h_range(self):
        """è·å–24å°æ—¶ä»·æ ¼åŒºé—´"""
        klines = exchange.get_klines(
            symbol=self.symbol,
            timeframe='5m',
            limit=self.window_size + 3  # å¤šå–3æ ¹ç”¨äºæ£€æµ‹
        )

        # æ’é™¤æœ€è¿‘3æ ¹ï¼Œè®¡ç®—å†å²24HåŒºé—´
        historical = klines[:-3]
        high_24h = max([float(k['high']) for k in historical])
        low_24h = min([float(k['low']) for k in historical])

        return high_24h, low_24h

    def check_recent_breakout(self):
        """æ£€æŸ¥æœ€è¿‘1-3æ ¹Kçº¿æ˜¯å¦ç ´ä½"""
        high_24h, low_24h = self.get_24h_range()

        # è·å–æœ€è¿‘3æ ¹Kçº¿
        recent = exchange.get_klines(self.symbol, '5m', limit=3)

        breakout_candles = []

        for candle in recent:
            high = float(candle['high'])
            low = float(candle['low'])
            timestamp = candle['timestamp']

            # å‘ä¸Šç ´ä½
            if high > high_24h * 1.001:
                breakout_candles.append({
                    'time': timestamp,
                    'direction': 'UP',
                    'level': high_24h,
                    'price': high,
                    'strength': (high - high_24h) / high_24h * 100
                })

            # å‘ä¸‹ç ´ä½
            if low < low_24h * 0.999:
                breakout_candles.append({
                    'time': timestamp,
                    'direction': 'DOWN',
                    'level': low_24h,
                    'price': low,
                    'strength': (low_24h - low) / low_24h * 100
                })

        return breakout_candles
```

---

## âœ… ç‰¹å¾2: æ— å½±çº¿æš´åŠ›çªç ´

### å®šä¹‰

**Kçº¿å‡ ä¹æ²¡æœ‰ä¸‹å½±çº¿ï¼ˆå‘ä¸‹ç ´ä½ï¼‰æˆ–ä¸Šå½±çº¿ï¼ˆå‘ä¸Šç ´ä½ï¼‰ï¼Œä¸»åŠ›åŠ›é‡æå¼º**

### æŠ€æœ¯æŒ‡æ ‡

```python
def check_shadow_ratio(candle, direction='down'):
    """
    æ£€æŸ¥å½±çº¿æ¯”ç‡

    Args:
        candle: Kçº¿æ•°æ®
        direction: 'down' (å‘ä¸‹ç ´ä½) æˆ– 'up' (å‘ä¸Šç ´ä½)

    Returns:
        bool, dict: (æ˜¯å¦ç¬¦åˆ, è¯¦ç»†æ•°æ®)
    """
    high = candle['high']
    low = candle['low']
    open_p = candle['open']
    close = candle['close']

    total_range = high - low
    if total_range == 0:
        return False, None

    if direction == 'down':
        # å‘ä¸‹ç ´ä½ï¼šæ£€æŸ¥ä¸‹å½±çº¿
        body_low = min(open_p, close)
        lower_shadow = body_low - low
        shadow_ratio = lower_shadow / total_range * 100

        # å®ä½“é•¿åº¦
        body = abs(close - open_p)
        body_ratio = body / total_range * 100

        # åˆ¤æ–­æ ‡å‡†ï¼šä¸‹å½±çº¿ < 20%, å®ä½“ > 60%
        is_valid = shadow_ratio < 20 and body_ratio > 60

        return is_valid, {
            'shadow_ratio': shadow_ratio,
            'body_ratio': body_ratio,
            'shadow_length': lower_shadow,
            'body_length': body
        }

    else:  # direction == 'up'
        # å‘ä¸Šç ´ä½ï¼šæ£€æŸ¥ä¸Šå½±çº¿
        body_high = max(open_p, close)
        upper_shadow = high - body_high
        shadow_ratio = upper_shadow / total_range * 100

        body = abs(close - open_p)
        body_ratio = body / total_range * 100

        is_valid = shadow_ratio < 20 and body_ratio > 60

        return is_valid, {
            'shadow_ratio': shadow_ratio,
            'body_ratio': body_ratio,
            'shadow_length': upper_shadow,
            'body_length': body
        }
```

### å®ä¾‹åˆ†æ

**2026-02-06 08:00-08:15 BTCç ´ä½Kçº¿**

```
æ—¶é—´      å¼€ç›˜      æœ€é«˜      æœ€ä½      æ”¶ç›˜      ä¸‹å½±çº¿æ¯”ç‡  å®ä½“æ¯”ç‡
08:00   62,868   63,028   62,362   62,395      4.9%      71.0%  âœ“
08:15   60,198   61,200   60,000   60,722     16.6%      43.7%  âœ“
08:30   61,315   61,840   61,266   61,497     40.3%      35.0%  âœ—

åˆ†æ:
- 08:00: ä¸‹å½±çº¿æçŸ­(4.9%), å¤§å®ä½“(71%), å®Œç¾ç ´ä½å½¢æ€
- 08:15: ä¸‹å½±çº¿è¾ƒçŸ­(16.6%), ç»§ç»­æš´è·Œ
- 08:30: ä¸‹å½±çº¿åé•¿(40.3%), å¼€å§‹æœ‰æ”¯æ’‘ï¼Œç ´ä½åŠ›é‡å‡å¼±
```

### å¯è§†åŒ–

```
å‘ä¸‹ç ´ä½ - ç†æƒ³å½¢æ€        å‘ä¸‹ç ´ä½ - å¤±è´¥å½¢æ€

å¼€ç›˜ â”â”â”â”“                å¼€ç›˜ â”â”â”â”“
      â–“                        â”ƒ
      â–“  å¤§å®ä½“                â”ƒ å°å®ä½“
      â–“  (>60%)               â”ƒ
æ”¶ç›˜ â”â”â”â”«                æ”¶ç›˜ â”â”â”â”«
      â”ƒ çŸ­ä¸‹å½±çº¿               â”ƒ
ä½   â”â”â”â”› (<20%)               â”ƒ é•¿ä¸‹å½±çº¿
                              â”ƒ (>60%)
                              â”ƒ
                        ä½   â”â”â”â”›
```

### åˆ¤æ–­æ ‡å‡†

| Kçº¿å½¢æ€ | ä¸‹å½±çº¿æ¯”ç‡ | å®ä½“æ¯”ç‡ | ç ´ä½å¯ä¿¡åº¦ | æ“ä½œ |
|---------|-----------|---------|-----------|------|
| å®Œç¾ç ´ä½ | < 10% | > 70% | æé«˜ | âœ… ç«‹å³å…¥åœº |
| å¼ºç ´ä½ | 10-20% | 60-70% | é«˜ | âœ… å…¥åœº |
| ä¸­ç­‰ç ´ä½ | 20-30% | 50-60% | ä¸­ç­‰ | âš ï¸ è°¨æ…å…¥åœº |
| å¼±ç ´ä½ | 30-40% | 40-50% | è¾ƒä½ | â“ è§‚å¯Ÿ |
| æ’é’ˆ | > 60% | < 30% | æä½ | âŒ ä¸å…¥åœº |

---

## âœ… ç‰¹å¾3: Big4æˆäº¤é‡æ”¾å¤§

### å®šä¹‰

**æœ‰æ˜æ˜¾æ”¾å¤§çš„æˆäº¤é‡æ”¯æ’‘ï¼Œä¸»è¦çœ‹Big4åˆ¤æ–­ï¼Œå°å¸ç§å¹²æ‰°å¤ªå¤§**

### Big4ä¼˜å…ˆçº§

```python
BIG4_SYMBOLS = ['BTC/USDT', 'ETH/USDT', 'BNB/USDT', 'SOL/USDT']
BIG4_WEIGHTS = {
    'BTC/USDT': 0.40,  # æƒé‡40%
    'ETH/USDT': 0.30,  # æƒé‡30%
    'BNB/USDT': 0.15,  # æƒé‡15%
    'SOL/USDT': 0.15   # æƒé‡15%
}
```

### æˆäº¤é‡æ£€æµ‹

```python
def check_volume_surge(symbol, timeframe='5m'):
    """
    æ£€æŸ¥æˆäº¤é‡æ˜¯å¦æ”¾å¤§

    Args:
        symbol: äº¤æ˜“å¯¹
        timeframe: æ—¶é—´å‘¨æœŸ

    Returns:
        bool, float: (æ˜¯å¦æ”¾é‡, æ”¾é‡å€æ•°)
    """
    # è·å–æœ€è¿‘50æ ¹Kçº¿ï¼ˆç”¨äºè®¡ç®—å¹³å‡æˆäº¤é‡ï¼‰
    klines = exchange.get_klines(symbol, timeframe, limit=50)

    # è®¡ç®—å¹³å‡æˆäº¤é‡ï¼ˆæ’é™¤æœ€è¿‘3æ ¹ï¼‰
    historical_volumes = [float(k['volume']) for k in klines[:-3]]
    avg_volume = sum(historical_volumes) / len(historical_volumes)

    # æ£€æŸ¥æœ€è¿‘3æ ¹Kçº¿çš„æˆäº¤é‡
    recent_candles = klines[-3:]
    max_volume = max([float(k['volume']) for k in recent_candles])

    # è®¡ç®—æ”¾é‡å€æ•°
    volume_ratio = max_volume / avg_volume if avg_volume > 0 else 0

    # åˆ¤æ–­æ ‡å‡†ï¼šæˆäº¤é‡ > å¹³å‡å€¼çš„1.5å€
    is_surged = volume_ratio >= 1.5

    return is_surged, volume_ratio
```

### Big4åŒæ­¥æ£€æµ‹

```python
def check_big4_sync_breakout():
    """
    æ£€æŸ¥Big4æ˜¯å¦åŒæ­¥ç ´ä½

    Returns:
        dict: Big4ç ´ä½æƒ…å†µ
    """
    results = {}
    breakout_count = 0
    total_volume_ratio = 0

    for symbol in BIG4_SYMBOLS:
        # æ£€æŸ¥ç‰¹å¾1: 24Hç ´ä½
        is_breakout_24h, direction, level, price = check_24h_breakout(symbol)

        # æ£€æŸ¥ç‰¹å¾2: æ— å½±çº¿
        recent_candles = exchange.get_klines(symbol, '5m', limit=3)
        shadow_valid = all([
            check_shadow_ratio(c, direction.lower())[0]
            for c in recent_candles
        ])

        # æ£€æŸ¥ç‰¹å¾3: æˆäº¤é‡
        is_volume_surge, volume_ratio = check_volume_surge(symbol)

        # ç»¼åˆåˆ¤æ–­
        is_valid = is_breakout_24h and shadow_valid and is_volume_surge

        results[symbol] = {
            'breakout_24h': is_breakout_24h,
            'direction': direction,
            'shadow_valid': shadow_valid,
            'volume_surge': is_volume_surge,
            'volume_ratio': volume_ratio,
            'is_valid': is_valid
        }

        if is_valid:
            breakout_count += 1
            total_volume_ratio += volume_ratio * BIG4_WEIGHTS[symbol]

    # è®¡ç®—åŠ æƒæˆäº¤é‡å€æ•°
    weighted_volume_ratio = total_volume_ratio

    # Big4åŒæ­¥åˆ¤æ–­
    is_sync = breakout_count >= 3  # è‡³å°‘3ä¸ªå¸ç§åŒæ­¥ç ´ä½

    return {
        'results': results,
        'breakout_count': breakout_count,
        'weighted_volume_ratio': weighted_volume_ratio,
        'is_sync': is_sync,
        'sync_level': 'STRONG' if breakout_count == 4 else 'MEDIUM' if breakout_count >= 3 else 'WEAK'
    }
```

### å®ä¾‹åˆ†æ

**2026-02-06 08:00 Big4åŒæ­¥ç ´ä½**

| å¸ç§ | 24Hç ´ä½ | ä¸‹å½±çº¿æ¯”ç‡ | æˆäº¤é‡å€æ•° | ç»¼åˆè¯„åˆ† |
|------|---------|-----------|-----------|---------|
| BTC/USDT | âœ“ 59,800 < 62,233 | 4.9% âœ“ | 9.4x âœ“ | âœ… å®Œç¾ |
| ETH/USDT | âœ“ 1,665 < 1,755 | 8.2% âœ“ | 8.7x âœ“ | âœ… å®Œç¾ |
| BNB/USDT | âœ“ 442 < 458 | 6.1% âœ“ | 6.2x âœ“ | âœ… å®Œç¾ |
| SOL/USDT | âœ“ 93 < 99.5 | 5.3% âœ“ | 10.1x âœ“ | âœ… å®Œç¾ |

**ç»“è®º**:
- Big4å…¨éƒ¨åŒæ­¥ç ´ä½ (4/4)
- æ‰€æœ‰å¸ç§ä¸‹å½±çº¿ < 10%
- æˆäº¤é‡å…¨éƒ¨æ”¾å¤§ > 6å€
- **è¿™æ˜¯æå¼ºçš„å¸‚åœºä¿¡å·ï¼**

### ä¸ºä»€ä¹ˆåªçœ‹Big4ï¼Ÿ

1. **å¸‚åœºä»£è¡¨æ€§**
   - BTC: å¸‚åœºé£å‘æ ‡ï¼Œå æ¯”æœ€å¤§
   - ETH: ç¬¬äºŒå¤§å¸ç§ï¼ŒæŠ€æœ¯æŒ‡æ ‡
   - BNB: äº¤æ˜“æ‰€ä»£å¸ï¼ŒæµåŠ¨æ€§å¼º
   - SOL: é«˜betaä»£è¡¨ï¼Œæ³¢åŠ¨æ€§å¼º

2. **æ•°æ®å¯é æ€§**
   - äº¤æ˜“é‡å¤§ï¼Œä¸æ˜“è¢«æ“çºµ
   - ä»·æ ¼å‘ç°åŠŸèƒ½å¼º
   - å¸‚åœºå…±è¯†åº¦é«˜

3. **å°å¸ç§é—®é¢˜**
   - å®¹æ˜“è¢«æ“çºµï¼ˆåº„å®¶æ§ç›˜ï¼‰
   - å‡çªç ´å¤š
   - æµåŠ¨æ€§å·®ï¼Œæ»‘ç‚¹å¤§
   - å¹²æ‰°ä¿¡å·åˆ¤æ–­

---

## ğŸ¯ ä¸‰å¤§ç‰¹å¾ç»¼åˆåˆ¤æ–­

### å®Œæ•´æ£€æµ‹æµç¨‹

```python
class BreakoutSignalDetector:
    """ç ´ä½ä¿¡å·æ£€æµ‹å™¨ - ä¸‰å¤§ç‰¹å¾ç»¼åˆåˆ¤æ–­"""

    def __init__(self):
        self.big4_symbols = ['BTC/USDT', 'ETH/USDT', 'BNB/USDT', 'SOL/USDT']
        self.weights = {
            'BTC/USDT': 0.40,
            'ETH/USDT': 0.30,
            'BNB/USDT': 0.15,
            'SOL/USDT': 0.15
        }

    def detect_breakout(self):
        """
        æ£€æµ‹ç ´ä½ä¿¡å·

        Returns:
            dict: æ£€æµ‹ç»“æœ
        """
        results = {}

        for symbol in self.big4_symbols:
            # ç‰¹å¾1: æ£€æŸ¥24Hç ´ä½
            feature1 = self.check_24h_breakout(symbol)

            # ç‰¹å¾2: æ£€æŸ¥Kçº¿å½¢æ€ï¼ˆæ— å½±çº¿ï¼‰
            feature2 = self.check_candle_pattern(symbol)

            # ç‰¹å¾3: æ£€æŸ¥æˆäº¤é‡
            feature3 = self.check_volume_surge(symbol)

            # ç»¼åˆè¯„åˆ†
            score = 0
            if feature1['is_valid']:
                score += 40  # 24Hç ´ä½å 40åˆ†
            if feature2['is_valid']:
                score += 30  # Kçº¿å½¢æ€å 30åˆ†
            if feature3['is_valid']:
                score += 30  # æˆäº¤é‡å 30åˆ†

            results[symbol] = {
                'feature1_24h': feature1,
                'feature2_candle': feature2,
                'feature3_volume': feature3,
                'score': score,
                'is_valid': score >= 80  # 80åˆ†ä»¥ä¸Šæ‰ç®—æœ‰æ•ˆç ´ä½
            }

        # è®¡ç®—Big4åŒæ­¥æ€§
        valid_count = sum([1 for r in results.values() if r['is_valid']])
        is_sync = valid_count >= 3

        # åŠ æƒè¯„åˆ†
        weighted_score = sum([
            results[symbol]['score'] * self.weights[symbol]
            for symbol in self.big4_symbols
        ])

        return {
            'individual_results': results,
            'valid_count': valid_count,
            'is_sync': is_sync,
            'sync_level': self.get_sync_level(valid_count),
            'weighted_score': weighted_score,
            'signal_strength': self.get_signal_strength(weighted_score),
            'recommendation': self.get_recommendation(weighted_score, is_sync)
        }

    def get_sync_level(self, valid_count):
        """è·å–åŒæ­¥çº§åˆ«"""
        if valid_count == 4:
            return 'PERFECT'  # å®Œç¾åŒæ­¥
        elif valid_count == 3:
            return 'STRONG'   # å¼ºåŒæ­¥
        elif valid_count == 2:
            return 'MEDIUM'   # ä¸­ç­‰åŒæ­¥
        else:
            return 'WEAK'     # å¼±åŒæ­¥

    def get_signal_strength(self, weighted_score):
        """è·å–ä¿¡å·å¼ºåº¦"""
        if weighted_score >= 90:
            return 'EXTREME'  # æå¼º
        elif weighted_score >= 80:
            return 'STRONG'   # å¼º
        elif weighted_score >= 70:
            return 'MEDIUM'   # ä¸­ç­‰
        else:
            return 'WEAK'     # å¼±

    def get_recommendation(self, weighted_score, is_sync):
        """è·å–æ“ä½œå»ºè®®"""
        if weighted_score >= 90 and is_sync:
            return 'ENTER_FULL'  # æ»¡ä»“å…¥åœº
        elif weighted_score >= 80:
            return 'ENTER_LARGE'  # å¤§ä»“ä½å…¥åœº
        elif weighted_score >= 70:
            return 'ENTER_SMALL'  # å°ä»“ä½è¯•æ¢
        else:
            return 'OBSERVE'      # è§‚å¯Ÿç­‰å¾…
```

### ä½¿ç”¨ç¤ºä¾‹

```python
# å®ä¾‹åŒ–æ£€æµ‹å™¨
detector = BreakoutSignalDetector()

# æ£€æµ‹ç ´ä½ä¿¡å·
result = detector.detect_breakout()

# æ‰“å°ç»“æœ
print(f"Big4åŒæ­¥æƒ…å†µ: {result['valid_count']}/4")
print(f"åŒæ­¥çº§åˆ«: {result['sync_level']}")
print(f"åŠ æƒè¯„åˆ†: {result['weighted_score']:.1f}")
print(f"ä¿¡å·å¼ºåº¦: {result['signal_strength']}")
print(f"æ“ä½œå»ºè®®: {result['recommendation']}")

# è¯¦ç»†ç»“æœ
for symbol, data in result['individual_results'].items():
    print(f"\n{symbol}:")
    print(f"  ç‰¹å¾1-24Hç ´ä½: {'âœ“' if data['feature1_24h']['is_valid'] else 'âœ—'}")
    print(f"  ç‰¹å¾2-Kçº¿å½¢æ€: {'âœ“' if data['feature2_candle']['is_valid'] else 'âœ—'}")
    print(f"  ç‰¹å¾3-æˆäº¤é‡: {'âœ“' if data['feature3_volume']['is_valid'] else 'âœ—'}")
    print(f"  ç»¼åˆå¾—åˆ†: {data['score']}/100")
```

### è¾“å‡ºç¤ºä¾‹ï¼ˆ2026-02-06 08:00ï¼‰

```
Big4åŒæ­¥æƒ…å†µ: 4/4
åŒæ­¥çº§åˆ«: PERFECT
åŠ æƒè¯„åˆ†: 95.5
ä¿¡å·å¼ºåº¦: EXTREME
æ“ä½œå»ºè®®: ENTER_FULL

BTC/USDT:
  ç‰¹å¾1-24Hç ´ä½: âœ“ (59,800 < 62,233, å¼ºåº¦3.91%)
  ç‰¹å¾2-Kçº¿å½¢æ€: âœ“ (ä¸‹å½±çº¿4.9%, å®ä½“71.0%)
  ç‰¹å¾3-æˆäº¤é‡: âœ“ (æ”¾å¤§9.4å€)
  ç»¼åˆå¾—åˆ†: 100/100

ETH/USDT:
  ç‰¹å¾1-24Hç ´ä½: âœ“ (1,665 < 1,755, å¼ºåº¦5.10%)
  ç‰¹å¾2-Kçº¿å½¢æ€: âœ“ (ä¸‹å½±çº¿8.2%, å®ä½“68.3%)
  ç‰¹å¾3-æˆäº¤é‡: âœ“ (æ”¾å¤§8.7å€)
  ç»¼åˆå¾—åˆ†: 100/100

BNB/USDT:
  ç‰¹å¾1-24Hç ´ä½: âœ“ (442 < 458, å¼ºåº¦3.52%)
  ç‰¹å¾2-Kçº¿å½¢æ€: âœ“ (ä¸‹å½±çº¿6.1%, å®ä½“72.1%)
  ç‰¹å¾3-æˆäº¤é‡: âœ“ (æ”¾å¤§6.2å€)
  ç»¼åˆå¾—åˆ†: 100/100

SOL/USDT:
  ç‰¹å¾1-24Hç ´ä½: âœ“ (93 < 99.5, å¼ºåº¦6.53%)
  ç‰¹å¾2-Kçº¿å½¢æ€: âœ“ (ä¸‹å½±çº¿5.3%, å®ä½“74.8%)
  ç‰¹å¾3-æˆäº¤é‡: âœ“ (æ”¾å¤§10.1å€)
  ç»¼åˆå¾—åˆ†: 100/100
```

---

## ğŸ“Š è¯„åˆ†ä½“ç³»

### å•å¸ç§è¯„åˆ†

| ç‰¹å¾ | æƒé‡ | åˆ¤æ–­æ ‡å‡† |
|------|------|---------|
| 24Hç ´ä½ | 40åˆ† | çªç ´24Hæå€¼ï¼Œç ´ä½å¼ºåº¦>0.5% |
| Kçº¿å½¢æ€ | 30åˆ† | ä¸‹å½±çº¿<20%, å®ä½“>60% |
| æˆäº¤é‡ | 30åˆ† | æ”¾å¤§>1.5å€ |
| **åˆè®¡** | **100åˆ†** | **>=80åˆ†ä¸ºæœ‰æ•ˆç ´ä½** |

### Big4åŠ æƒè¯„åˆ†

```
åŠ æƒè¯„åˆ† = BTCå¾—åˆ† Ã— 40% + ETHå¾—åˆ† Ã— 30% + BNBå¾—åˆ† Ã— 15% + SOLå¾—åˆ† Ã— 15%
```

### ä¿¡å·å¼ºåº¦åˆ†çº§

| åŠ æƒè¯„åˆ† | ä¿¡å·å¼ºåº¦ | æ“ä½œå»ºè®® |
|---------|---------|---------|
| >= 90åˆ† | EXTREME | æ»¡ä»“å…¥åœº |
| 80-90åˆ† | STRONG | å¤§ä»“ä½å…¥åœº (70-80%) |
| 70-80åˆ† | MEDIUM | ä¸­ä»“ä½å…¥åœº (40-50%) |
| 60-70åˆ† | WEAK | å°ä»“ä½è¯•æ¢ (20-30%) |
| < 60åˆ† | INVALID | ä¸å…¥åœº |

### Big4åŒæ­¥åŠ æˆ

| åŒæ­¥æ•°é‡ | åŒæ­¥çº§åˆ« | åŠ æˆ |
|---------|---------|------|
| 4/4 | PERFECT | +20åˆ† |
| 3/4 | STRONG | +10åˆ† |
| 2/4 | MEDIUM | +5åˆ† |
| 1/4 | WEAK | 0åˆ† |

---

## ğŸš€ å®ç›˜åº”ç”¨ç­–ç•¥

### ç­–ç•¥1: ä¿å®ˆå‹ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```python
# å¿…é¡»æ»¡è¶³æ‰€æœ‰æ¡ä»¶
if (
    big4_sync_count >= 3 and          # Big4è‡³å°‘3ä¸ªåŒæ­¥
    weighted_score >= 85 and          # åŠ æƒè¯„åˆ†>=85
    all_volume_ratio >= 2.0           # æ‰€æœ‰å¸ç§æˆäº¤é‡>=2å€
):
    enter_position(size=0.5)  # åŠä»“å…¥åœº
```

### ç­–ç•¥2: æ¿€è¿›å‹ï¼ˆç»éªŒä¸°å¯Œï¼‰

```python
# éƒ¨åˆ†æ»¡è¶³å³å¯å…¥åœº
if (
    big4_sync_count >= 2 and          # Big4è‡³å°‘2ä¸ªåŒæ­¥
    weighted_score >= 75              # åŠ æƒè¯„åˆ†>=75
):
    # æ ¹æ®è¯„åˆ†å†³å®šä»“ä½
    if weighted_score >= 90:
        enter_position(size=1.0)  # æ»¡ä»“
    elif weighted_score >= 80:
        enter_position(size=0.7)  # 7æˆä»“
    else:
        enter_position(size=0.4)  # 4æˆä»“
```

### ç­–ç•¥3: åˆ†çº§å…¥åœºï¼ˆæ¨èï¼‰

```python
def graduated_entry(result):
    """åˆ†çº§å…¥åœºç­–ç•¥"""
    score = result['weighted_score']
    sync_count = result['valid_count']

    # ç¬¬ä¸€çº§: å¿«é€Ÿè¯•æ¢
    if score >= 70 and sync_count >= 2:
        enter_position(size=0.2, label='è¯•æ¢ä»“')

        # ç­‰å¾…1æ ¹Kçº¿ç¡®è®¤
        time.sleep(5 * 60)  # 5åˆ†é’Ÿ

        # ç¬¬äºŒçº§: ç¡®è®¤åŠ ä»“
        result_new = detector.detect_breakout()
        if result_new['weighted_score'] >= 80:
            enter_position(size=0.3, label='ç¡®è®¤åŠ ä»“')

            # ç¬¬ä¸‰çº§: ç ´ä½åŠ é€Ÿ
            time.sleep(5 * 60)
            result_final = detector.detect_breakout()
            if result_final['weighted_score'] >= 85:
                enter_position(size=0.3, label='åŠ é€Ÿè¿½å‡»')
```

---

## âš ï¸ é£é™©æ§åˆ¶

### æ­¢æŸè®¾ç½®

```python
def set_stop_loss(entry_price, direction, sync_level):
    """
    è®¾ç½®æ­¢æŸ

    Args:
        entry_price: å…¥åœºä»·æ ¼
        direction: æ–¹å‘ ('LONG' | 'SHORT')
        sync_level: Big4åŒæ­¥çº§åˆ«
    """
    # æ ¹æ®åŒæ­¥çº§åˆ«è®¾ç½®æ­¢æŸå¹…åº¦
    if sync_level == 'PERFECT':
        stop_loss_pct = 0.005  # 0.5%
    elif sync_level == 'STRONG':
        stop_loss_pct = 0.008  # 0.8%
    else:
        stop_loss_pct = 0.010  # 1.0%

    if direction == 'SHORT':
        stop_loss = entry_price * (1 + stop_loss_pct)
    else:
        stop_loss = entry_price * (1 - stop_loss_pct)

    return stop_loss
```

### æ­¢ç›ˆè®¾ç½®

```python
def set_take_profit(entry_price, direction, breakout_strength):
    """
    è®¾ç½®æ­¢ç›ˆ

    Args:
        entry_price: å…¥åœºä»·æ ¼
        direction: æ–¹å‘
        breakout_strength: ç ´ä½å¼ºåº¦(%)
    """
    # æ ¹æ®ç ´ä½å¼ºåº¦è®¾ç½®æ­¢ç›ˆ
    if breakout_strength >= 5:
        take_profit_pct = 0.03  # 3%
    elif breakout_strength >= 3:
        take_profit_pct = 0.02  # 2%
    else:
        take_profit_pct = 0.015  # 1.5%

    if direction == 'SHORT':
        take_profit = entry_price * (1 - take_profit_pct)
    else:
        take_profit = entry_price * (1 + take_profit_pct)

    return take_profit
```

---

## ğŸ“ æ€»ç»“

### ä¸‰å¤§ç‰¹å¾ä¼˜å…ˆçº§

1. **ç‰¹å¾1 (40%)**: 24Hæå€¼çªç ´ - æœ€é‡è¦ï¼Œå†³å®šç ´ä½æ˜¯å¦å­˜åœ¨
2. **ç‰¹å¾2 (30%)**: æ— å½±çº¿å½¢æ€ - æ¬¡è¦ï¼Œåˆ¤æ–­ç ´ä½åŠ›é‡å¼ºå¼±
3. **ç‰¹å¾3 (30%)**: Big4æˆäº¤é‡ - é‡è¦ï¼Œç¡®è®¤å¸‚åœºå…±è¯†

### æœ€ä½³ä¿¡å·ç»„åˆ

```
âœ… Big4å…¨éƒ¨ç ´ä½ (4/4)
âœ… æ‰€æœ‰Kçº¿æ— å½±çº¿ (ä¸‹å½±çº¿<10%)
âœ… æˆäº¤é‡å…¨éƒ¨æ”¾å¤§ (>2å€)
âœ… åŠ æƒè¯„åˆ† >= 90
= æå¼ºç ´ä½ä¿¡å·ï¼Œå¯ä»¥æ»¡ä»“å…¥åœº
```

### æ³¨æ„äº‹é¡¹

1. **ä¸è¦è¿½å°å¸ç§**: åªçœ‹Big4ï¼Œå°å¸ç§å‡çªç ´å¤ªå¤š
2. **å¿…é¡»æˆäº¤é‡ç¡®è®¤**: æ— é‡çªç ´=å‡çªç ´
3. **Kçº¿å½¢æ€å¾ˆé‡è¦**: é•¿å½±çº¿=æœ‰æ”¯æ’‘=ç ´ä½å¤±è´¥
4. **Big4åŒæ­¥æ˜¯å…³é”®**: å•ä¸ªå¸ç§ç ´ä½å¯èƒ½æ˜¯åº„å®¶æ“çºµ
5. **åˆ†çº§å…¥åœºæ›´å®‰å…¨**: ä¸€æ¬¡æ€§æ»¡ä»“é£é™©å¤ªå¤§

### é€‚ç”¨åœºæ™¯

âœ… é€‚ç”¨:
- Big4ä¸»è¦å¸ç§
- 5MçŸ­çº¿ç ´ä½
- 24Hæå€¼çªç ´
- è¶‹åŠ¿å»¶ç»­è¡Œæƒ…

âŒ ä¸é€‚ç”¨:
- å°å¸‚å€¼å¸ç§
- é•¿å‘¨æœŸç ´ä½(æ—¥çº¿ä»¥ä¸Š)
- éœ‡è¡å¸‚æ¨ªç›˜
- ä½æµåŠ¨æ€§æ—¶æ®µ
